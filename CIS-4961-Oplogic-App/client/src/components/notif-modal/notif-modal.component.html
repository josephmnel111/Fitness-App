<div class="content-container">
    <ion-row class="header ion-margin">
        <h2>Notifications</h2>

        <span class="right-align">
            <ion-icon 
                size = "large" 
                name="settings-outline"
                class="ion-margin-end"
                color="primary"
                (click)="presentNotifSettingsModal()"
            ></ion-icon>
            <ion-icon 
                size = "large" 
                name="close"
                color="primary"
                (click)="close()"
            ></ion-icon>
        </span>
    </ion-row>

    <!-- Note: Columns are out of 12 -->
    <ion-row>
        <ion-col size="9">
            <ion-segment 
                (ionChange)="switchView($event)"
                class="btn-segment"
            >
                <ion-segment-button value="general">
                    <ion-label>General</ion-label>
                </ion-segment-button>
                <ion-segment-button value="email">
                    <ion-label>Email</ion-label>
                </ion-segment-button>
                <ion-segment-button value="sms">
                    <ion-label>SMS</ion-label>
                </ion-segment-button>
                <ion-segment-button value="directMessage">
                    <ion-label>Direct Message</ion-label>
                </ion-segment-button>
            </ion-segment>
        </ion-col>

        <ion-col size="3">
            <ion-item class="show-all-group no-border">
                <ion-label color="primary">
                    <b>Show all</b>
                </ion-label>
                <ion-toggle></ion-toggle>
            </ion-item>
        </ion-col>
    </ion-row>

    <ion-row class="ion-margin-start">
        <ion-item button="true" id="start-date-input" class="no-border">
            <ion-label color="primary">
                <b>Start Date</b>
            </ion-label>
            <ion-popover trigger="start-date-input" show-backdrop="false">
                <ng-template>
                    <ion-datetime presentation="date"></ion-datetime>
                </ng-template>
            </ion-popover>
        </ion-item>
        <ion-item button="true" id="end-date-input" class="no-border">
            <ion-label color="primary">
                <b>End date</b>
            </ion-label>
            <ion-popover trigger="end-date-input" show-backdrop="false">
                <ng-template>
                    <ion-datetime presentation="date"></ion-datetime>
                </ng-template>
            </ion-popover>
        </ion-item>
    </ion-row>

    <ion-row class="ion-margin-start">
        <ion-item button class="no-border">
            <ion-label color="primary">
                <b>Mark all read</b>
            </ion-label>
        </ion-item>
        <span class="right-align">
            <ion-item button class="no-border">
                <ion-icon name="filter-outline" color="primary"></ion-icon>
                <ion-label class="ion-margin-start" color="primary">
                    <b>Newest first</b>
                </ion-label>
            </ion-item>
        </span>
    </ion-row>

    <hr>

    <div class="notif-container">
        <ng-container [ngSwitch]="view">
            <ng-container *ngSwitchCase="'general'">
                <notification 
                    *ngFor="let notif of general"
                    [fullName]= notif.name
                    [actionFormatted]= this.ACTION_DICT.get(notif.actionID)
                    [message]= notif.message
                ></notification>
            </ng-container>
            <ng-container *ngSwitchCase="'email'">
                <notification 
                    *ngFor="let notif of email"
                    [fullName]= notif.name
                    [actionFormatted]= this.ACTION_DICT.get(notif.actionID)
                    [message]= notif.message
                ></notification>
            </ng-container>
            <ng-container *ngSwitchCase="'sms'">
                <notification 
                    *ngFor="let notif of sms"
                    [fullName]= notif.name
                    [actionFormatted]= this.ACTION_DICT.get(notif.actionID)
                    [message]= notif.message
                ></notification>
            </ng-container>
            <ng-container *ngSwitchCase="'directMessage'">
                <notification 
                    *ngFor="let notif of DMNotif"
                    [fullName]= notif.name
                    [actionFormatted]= this.ACTION_DICT.get(notif.actionID)
                    [message]= notif.message
                ></notification>
            </ng-container>
        </ng-container>
    </div>
</div>